<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link href="/fontawesome/css/fontawesome.css" rel="stylesheet">
    <link href="/fontawesome/css/brands.css" rel="stylesheet">
    <link href="/fontawesome/css/solid.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
</head>
<body>

<div class="main-container">
    <p>&nbsp;</p>
    <h3>Free chat without registration</h3>
    <div class="center">
        <input type="text" value="" placeholder="Enter room" id="room" size="30"> <button id="start-call" class="control-btn"><i class="fa-brands fa-golang"></i></button>
    </div>
    <span>&copy; Kuzovkov.A.V. 2023</span>
    <span>&nbsp;</span>

</div>


<script>
    (function(){
        function makeid(length) {
            let result = '';
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            const charactersLength = characters.length;
            let counter = 0;
            while (counter < length) {
                result += characters.charAt(Math.floor(Math.random() * charactersLength));
                counter += 1;
            }
            return result;
        }

        const goToRoom = function() {
            const roomInput = document.querySelector('input[id="room"]');
            const room = (roomInput.value)? roomInput.value.trim() : makeid(16);
            window.location.href = `/room/${room}`;
        }

        document.getElementById('start-call').addEventListener('click', goToRoom);
    })();
</script>
</body>
</html>